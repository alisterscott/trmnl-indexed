{% if trmnl.plugin_settings.custom_fields_values.randomise == "yes" %}
  {% assign random_seed = "now" | date: "%s" %}
  {% assign random_index = random_seed | modulo: rss.channel.item.size %}
  {% assign selected_item = rss.channel.item[random_index] %}
{% else %}
  {% assign selected_item = rss.channel.item[0] %}
{% endif %}
{% assign img_start = selected_item.encoded | split: '<img' | first %}
{% assign img_content = selected_item.encoded | split: '<img' | last | split: '>' | first %}
{% assign img_tag = '<img class="image image-dither"' | append: img_content | append: '>' %}


<style>
  .view {
    height: 100%;
    width: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    position: relative;
  }

  .image-container {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 10px;
    overflow: hidden;
    min-height: 0; /* Important for flex children */
  }

  .image-container img {
    max-width: 100%;
    max-height: 100%;
    width: auto;
    height: auto;
    object-fit: contain;
    display: block;
    border-radius: 5px;
  }

</style>
